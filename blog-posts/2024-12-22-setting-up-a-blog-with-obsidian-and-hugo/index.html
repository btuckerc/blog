<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Setting up a Blog with Obsidian and Hugo | btuckerc blog</title>
<meta name=keywords content="blog,hugo,obsidian,devops,bluesky"><meta name=description content="A comprehensive guide to setting up a modern blog using Hugo, Obsidian, DigitalOcean, and Bluesky PDS integration."><meta name=author content="Tucker"><link rel=canonical href=%7b%7b%20.Site.BaseURL%20%7d%7d%7b%7b%20.RelPermalink%20%7d%7d><link crossorigin=anonymous href=/assets/css/stylesheet.75d10fef7a6a16b09e82ab0c4fd092d5f515ce409e2db4032b4fa76736bfad1f.css integrity="sha256-ddEP73pqFrCegqsMT9CS1fUVzkCeLbQDK0+nZza/rR8=" rel="preload stylesheet" as=style><link rel=icon href=https://btuckerc.com/images/profile.jpg><link rel=icon type=image/png sizes=16x16 href=https://btuckerc.com/images/profile.jpg><link rel=icon type=image/png sizes=32x32 href=https://btuckerc.com/images/profile.jpg><link rel=apple-touch-icon href=https://btuckerc.com/images/profile.jpg><link rel=mask-icon href=https://btuckerc.com/images/profile.jpg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://btuckerc.com/blog-posts/2024-12-22-setting-up-a-blog-with-obsidian-and-hugo/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://btuckerc.com/blog-posts/2024-12-22-setting-up-a-blog-with-obsidian-and-hugo/"><meta property="og:site_name" content="btuckerc blog"><meta property="og:title" content="Setting up a Blog with Obsidian and Hugo"><meta property="og:description" content="A comprehensive guide to setting up a modern blog using Hugo, Obsidian, DigitalOcean, and Bluesky PDS integration."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="blog-posts"><meta property="article:published_time" content="2024-12-22T16:08:23-05:00"><meta property="article:modified_time" content="2024-12-23T12:44:08-05:00"><meta property="article:tag" content="Blog"><meta property="article:tag" content="Hugo"><meta property="article:tag" content="Obsidian"><meta property="article:tag" content="Devops"><meta property="article:tag" content="Bluesky"><meta name=twitter:card content="summary"><meta name=twitter:title content="Setting up a Blog with Obsidian and Hugo"><meta name=twitter:description content="A comprehensive guide to setting up a modern blog using Hugo, Obsidian, DigitalOcean, and Bluesky PDS integration."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blog-Posts","item":"https://btuckerc.com/blog-posts/"},{"@type":"ListItem","position":2,"name":"Setting up a Blog with Obsidian and Hugo","item":"https://btuckerc.com/blog-posts/2024-12-22-setting-up-a-blog-with-obsidian-and-hugo/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Setting up a Blog with Obsidian and Hugo","name":"Setting up a Blog with Obsidian and Hugo","description":"A comprehensive guide to setting up a modern blog using Hugo, Obsidian, DigitalOcean, and Bluesky PDS integration.","keywords":["blog","hugo","obsidian","devops","bluesky"],"articleBody":"I can take notes, why not blog! This post outlines how I built a blog that leverages Hugo for static site generation and Obsidian for note-taking. On top of that, I deployed everything to a DigitalOcean droplet and integrated the site with my own Bluesky PDS.\nPart 0: Why? I’ve been trying to revamp a lot of how I’m interfacing with my laptop. I’ve been getting into using Obsidian, with all it’s linking and tagging, and thought it might be nice to have some kind of “blog” where I can drag and drop info from my Obsidian right into the blog. I have also had the thought for a while: what if I didn’t have to deal with formatting and could just push Markdown files to handle formatting for me. I was watching an NVIM user’s video recently (probably primeagen or Teej) and heard mention of Hugo. So I got to work:\nPart 1: Local Setup Creating the Hugo Site To begin, I installed and configured Hugo on my Mac. I used Homebrew:\n# Install Hugo on macOS brew install hugo # Create a new Hugo site hugo new site Blog cd Blog # Initialize Git and set main as the default branch git init git branch -M main # Add the Paper theme as a submodule git submodule add https://github.com/nanxiaobei/hugo-paper themes/paper # Create basic directory structure mkdir -p content/Blog-Posts mkdir -p content/Blog-Attachments mkdir -p static/images Setting Up Obsidian Integration I prefer writing posts in Obsidian, even if a normal .md file can be served. To keep everything in sync, I created symbolic links (symlinks) from my local Hugo content directories to my Obsidian vault:\n# Adjust paths to match your own system layout ln -sf /Users/tucker/Documents/GitHub/Blog/content/Blog-Posts ~/Documents/00-Vault/00\\ -\\ Inbox/07\\ -\\ BLOG ln -sf /Users/tucker/Documents/GitHub/Blog/content/Blog-Attachments ~/Documents/00-Vault/00\\ -\\ Inbox/07\\ -\\ BLOG With these symlinks, any changes I make in Obsidian are automatically reflected in my Hugo content folder.\nI also set up a templater to handle all different parameters with individual posts:\nPart 2: Infrastructure Setup Creating a DigitalOcean Droplet To host the site, I set up a DigitalOcean droplet. I was already kinda grandfathered in from having my OG-bsky atproto serving from there. I had to SSH into it to set up the necessary directories:\n# SSH into your new droplet ssh -i ~/.ssh/btuckerc-do_nok root@DROPLET_IP # Create a directory for your blog mkdir -p /opt/blog Setting Up GitHub Actions To automate building and deploying, I rely on GitHub Actions. In your repository, create a .github/workflows directory with two workflow files.\nbuild.yml for building the site:\nname: Build and Update Public Branch on: push: branches: - main permissions: contents: write jobs: build-and-update-public: runs-on: ubuntu-latest env: HUGO_BASEURL: https://btuckerc.com HUGO_ENV: production HUGO_ENABLEGITINFO: true steps: - name: Checkout main uses: actions/checkout@v4 with: submodules: true fetch-depth: 0 # ... (more steps in the actual file) deploy.yml for deploying to DigitalOcean:\nname: Deploy to DigitalOcean on: workflow_run: workflows: [\"Build and Update Public Branch\"] types: - completed branches: - main # ... (more configuration in the actual file) Part 3: Bluesky PDS Integration Setting Up the PDS Server I also run my own Bluesky Personal Data Server (PDS). Below is an excerpt from my docker-compose.yml:\nservices: pds: image: ghcr.io/bluesky-social/pds:latest restart: unless-stopped depends_on: - nginx environment: - PDS_HOSTNAME=${PDS_HOSTNAME} - PDS_JWT_SECRET=${PDS_JWT_SECRET} # ... more environment variables Nginx Configuration To serve both the static blog and the PDS endpoints on the same droplet, I configured Nginx like so:\nserver { listen 443 ssl; server_name btuckerc.com; # Blog content location / { root /usr/share/nginx/html; index index.html; try_files $uri $uri/ =404; } # PDS endpoints location /.well-known/ { proxy_pass http://pds:3000/.well-known/; # ... more proxy settings } } Part 4: The Final Touches Environment Secrets In your GitHub repository, set up these secrets to ensure secure deployments and PDS functionality:\nDROPLET_IP DROPLET_USER SSH_PRIVATE_KEY PDS_HOSTNAME PDS_JWT_SECRET PDS_ADMIN_PASSWORD PDS_PLC_ROTATION_KEY_K256_PRIVATE_KEY_HEX Automatic Image Processing For Obsidian-style image links, I wrote a simple script (migrate_attachments.sh) to convert them into standard Markdown references and ensure the files end up in the right locations:\n#!/bin/bash # This script converts Obsidian-style image links to standard markdown # and ensures images are in the correct locations # ... (script contents in the repo) Part 5: Customizing Layouts Overwriting Theme Files One of the key aspects of personalizing my blog was implementing custom layouts to overwrite the default files from the theme. This allowed me to tailor the appearance and functionality to better suit my needs. By creating custom layout files in the layouts directory, I was able to override the theme’s default templates and have my own little touches on format and styling.\nPart 6: Search Functionality Re-Implementing Search I had fun re-implementing the search functionality in the assets directory. This involved customizing the JavaScript and CSS to enhance the search experience on my blog. I wanted users to be able to query for a word and have the results highlighted, with a few rows of content displayed before and after each result. This made it easier for users to find relevant information quickly and efficiently.\nPart 13: Copy/Share and Pinning Features Enhancing User Interaction To improve user interaction, I implemented my own copy/share functionality on blog posts. This allows readers to easily share content with others or save it for later reference. Additionally, I added a pinning feature, enabling users to pin their favorite posts for quick access.\nPart 7: DigitalOcean Droplet Management Handling Misconfigurations During the setup, I encountered several misconfigurations that required me to stop and restart the DigitalOcean droplet a lot. Doing it again, it’s not the end of the world to destroy the droplets then set them back up. But definitely frustrating.\nPart 8: GitHub Secrets Management Learning from Mistakes Managing secrets in GitHub was another challenge. I initially misconfigured some secrets, which led to deployment issues. Thankfully this didn’t require destroying and reconfiguring droplets… but still not fun.\nPart 9: Integration with Obsidian Seamless Content Management My goal was to have a blog integrated with Obsidian, where I already take notes. This setup allows me to move content over and publish it with ease. Deciding where to store content—between Obsidian sync and GitHub—was initially challenging, but I eventually settled on using both for optimal workflow.\nPart 10: DNS/CNAME Configuration Connecting Squarespace Domain Setting the DNS/CNAME entry in my Squarespace domain to point to the DigitalOcean droplet was a crucial step. This configuration ensures that my domain correctly routes traffic to the blog hosted on the droplet, providing a seamless experience for visitors.\nPart 11: AT Protocol and Bluesky Handle Integrating AT Protocol I aimed to have the AT Protocol running to register my Bluesky handle while ensuring the frontend was engaging and informative. This integration was crucial for providing a seamless user experience and showcasing the capabilities of the Bluesky PDS.\nPart 12: Customizing the Paper Theme Why Paper Stood Out The Paper theme initially caught my attention due to its clean and minimalist design. However, I found it necessary to tweak certain aspects to better align with my blog’s aesthetic and functional requirements. These customizations allowed me to maintain the theme’s simplicity while adding unique touches.\nThe Result Here’s a summary of what this setup achieves:\nHugo for a fast, secure static blog Obsidian for a modern writing experience GitHub Actions to automate builds and deployments DigitalOcean for hosting and SSL Bluesky PDS for decentralized social features What’s Next? I plan to extend this setup with:\nA commenting system Analytics Additional Bluesky integrations Keep an eye on future posts for these updates!\nUseful Resources Hugo Documentation PaperMod Theme Bluesky PDS Documentation DigitalOcean Tutorials The repository is public if you want to check it out.\n","wordCount":"1269","inLanguage":"en","datePublished":"2024-12-22T16:08:23-05:00","dateModified":"2024-12-23T12:44:08-05:00","author":{"@type":"Person","name":"Tucker"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://btuckerc.com/blog-posts/2024-12-22-setting-up-a-blog-with-obsidian-and-hugo/"},"publisher":{"@type":"Organization","name":"btuckerc blog","logo":{"@type":"ImageObject","url":"https://btuckerc.com/images/profile.jpg"}}}</script></head><body class=dark id="
    top"><header class=header><nav class=nav><div class=logo><a href=https://btuckerc.com/ accesskey=h title="@btuckerc (Alt + H)">@btuckerc</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://btuckerc.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://btuckerc.com/blog-posts/ title=Posts><span>Posts</span></a></li><li><a href=https://btuckerc.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://tuckercraig.com title=tuckercraig.com><span>tuckercraig.com</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://btuckerc.com/>Home</a>&nbsp;»&nbsp;<a href=https://btuckerc.com/blog-posts/>Blog-Posts</a></div><h1 class="post-title entry-hint-parent"><span class=title-wrapper>Setting up a Blog with Obsidian and Hugo
<button id=share-button-top class=share-button aria-label="Copy link to this post" title="Copy link"><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg></button></span></h1><script>document.getElementById("share-button-top").addEventListener("click",async()=>{const t="https://btuckerc.com/blog-posts/2024-12-22-setting-up-a-blog-with-obsidian-and-hugo/",e=document.getElementById("share-button-top"),n=e.innerHTML;navigator.clipboard?navigator.clipboard.writeText(t).then(()=>{e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"/></svg>',setTimeout(()=>{e.innerHTML=n},2e3)}).catch(()=>{fallbackCopy(t,e,n)}):fallbackCopy(t,e,n)});function fallbackCopy(e,t,n){const s=document.createElement("textarea");s.value=e,s.style.position="fixed",s.style.opacity="0",document.body.appendChild(s),s.select();try{document.execCommand("copy"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"/></svg>',setTimeout(()=>{t.innerHTML=n},2e3)}catch(e){console.error("Failed to copy:",e)}document.body.removeChild(s)}</script><div class=post-description>A comprehensive guide to setting up a modern blog using Hugo, Obsidian, DigitalOcean, and Bluesky PDS integration.</div><div class=post-meta>6 min read&nbsp;·&nbsp;December 22, 2024 16:08 EST
&nbsp;|&nbsp;<a href=https://github.com/btuckerc/blog/content/Blog-Posts/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#part-0-why>Part 0: Why?</a></li><li><a href=#part-1-local-setup>Part 1: Local Setup</a><ul><li><a href=#creating-the-hugo-site>Creating the Hugo Site</a></li><li><a href=#setting-up-obsidian-integration>Setting Up Obsidian Integration</a></li></ul></li><li><a href=#part-2-infrastructure-setup>Part 2: Infrastructure Setup</a><ul><li><a href=#creating-a-digitalocean-droplet>Creating a DigitalOcean Droplet</a></li><li><a href=#setting-up-github-actions>Setting Up GitHub Actions</a></li></ul></li><li><a href=#part-3-bluesky-pds-integration>Part 3: Bluesky PDS Integration</a><ul><li><a href=#setting-up-the-pds-server>Setting Up the PDS Server</a></li><li><a href=#nginx-configuration>Nginx Configuration</a></li></ul></li><li><a href=#part-4-the-final-touches>Part 4: The Final Touches</a><ul><li><a href=#environment-secrets>Environment Secrets</a></li><li><a href=#automatic-image-processing>Automatic Image Processing</a></li></ul></li><li><a href=#part-5-customizing-layouts>Part 5: Customizing Layouts</a><ul><li><a href=#overwriting-theme-files>Overwriting Theme Files</a></li></ul></li><li><a href=#part-6-search-functionality>Part 6: Search Functionality</a><ul><li><a href=#re-implementing-search>Re-Implementing Search</a></li></ul></li><li><a href=#part-13-copyshare-and-pinning-features>Part 13: Copy/Share and Pinning Features</a><ul><li><a href=#enhancing-user-interaction>Enhancing User Interaction</a></li></ul></li><li><a href=#part-7-digitalocean-droplet-management>Part 7: DigitalOcean Droplet Management</a><ul><li><a href=#handling-misconfigurations>Handling Misconfigurations</a></li></ul></li><li><a href=#part-8-github-secrets-management>Part 8: GitHub Secrets Management</a><ul><li><a href=#learning-from-mistakes>Learning from Mistakes</a></li></ul></li><li><a href=#part-9-integration-with-obsidian>Part 9: Integration with Obsidian</a><ul><li><a href=#seamless-content-management>Seamless Content Management</a></li></ul></li><li><a href=#part-10-dnscname-configuration>Part 10: DNS/CNAME Configuration</a><ul><li><a href=#connecting-squarespace-domain>Connecting Squarespace Domain</a></li></ul></li><li><a href=#part-11-at-protocol-and-bluesky-handle>Part 11: AT Protocol and Bluesky Handle</a><ul><li><a href=#integrating-at-protocol>Integrating AT Protocol</a></li></ul></li><li><a href=#part-12-customizing-the-paper-theme>Part 12: Customizing the Paper Theme</a><ul><li><a href=#why-paper-stood-out>Why Paper Stood Out</a></li></ul></li><li><a href=#the-result>The Result</a></li><li><a href=#whats-next>What&rsquo;s Next?</a></li><li><a href=#useful-resources>Useful Resources</a></li></ul></nav></div></details></div><div class=post-content><h1 id=i-can-take-notes-why-not-blog>I can take notes, why not blog!<a hidden class=anchor aria-hidden=true href=#i-can-take-notes-why-not-blog>#</a></h1><p>This post outlines how I built a blog that leverages Hugo for static site generation and Obsidian for note-taking. On top of that, I deployed everything to a DigitalOcean droplet and integrated the site with my own Bluesky PDS.</p><p><img loading=lazy onclick='showLightbox("../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-3.png")' src=../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-3.png style=cursor:pointer width=500></p><hr><h2 id=part-0-why>Part 0: Why?<a hidden class=anchor aria-hidden=true href=#part-0-why>#</a></h2><p>I&rsquo;ve been trying to revamp a lot of how I&rsquo;m interfacing with my laptop. I&rsquo;ve been getting into using Obsidian, with all it&rsquo;s linking and tagging, and thought it might be nice to have some kind of &ldquo;blog&rdquo; where I can drag and drop info from my Obsidian right into the blog. I have also had the thought for a while: what if I didn&rsquo;t have to deal with formatting and could just push Markdown files to handle formatting for me. I was watching an NVIM user&rsquo;s video recently (probably primeagen or Teej) and heard mention of Hugo. So I got to work:</p><h2 id=part-1-local-setup>Part 1: Local Setup<a hidden class=anchor aria-hidden=true href=#part-1-local-setup>#</a></h2><h3 id=creating-the-hugo-site>Creating the Hugo Site<a hidden class=anchor aria-hidden=true href=#creating-the-hugo-site>#</a></h3><p>To begin, I installed and configured Hugo on my Mac. I used Homebrew:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Install Hugo on macOS</span>
</span></span><span class=line><span class=cl>brew install hugo
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a new Hugo site</span>
</span></span><span class=line><span class=cl>hugo new site Blog
</span></span><span class=line><span class=cl><span class=nb>cd</span> Blog
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Initialize Git and set main as the default branch</span>
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git branch -M main
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Add the Paper theme as a submodule</span>
</span></span><span class=line><span class=cl>git submodule add https://github.com/nanxiaobei/hugo-paper themes/paper
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create basic directory structure</span>
</span></span><span class=line><span class=cl>mkdir -p content/Blog-Posts
</span></span><span class=line><span class=cl>mkdir -p content/Blog-Attachments
</span></span><span class=line><span class=cl>mkdir -p static/images
</span></span></code></pre></div><h3 id=setting-up-obsidian-integration>Setting Up Obsidian Integration<a hidden class=anchor aria-hidden=true href=#setting-up-obsidian-integration>#</a></h3><p>I prefer writing posts in Obsidian, even if a normal <code>.md</code> file can be served. To keep everything in sync, I created symbolic links (<code>symlinks</code>) from my local Hugo content directories to my Obsidian vault:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Adjust paths to match your own system layout</span>
</span></span><span class=line><span class=cl>ln -sf /Users/tucker/Documents/GitHub/Blog/content/Blog-Posts ~/Documents/00-Vault/00<span class=se>\ </span>-<span class=se>\ </span>Inbox/07<span class=se>\ </span>-<span class=se>\ </span>BLOG
</span></span><span class=line><span class=cl>ln -sf /Users/tucker/Documents/GitHub/Blog/content/Blog-Attachments ~/Documents/00-Vault/00<span class=se>\ </span>-<span class=se>\ </span>Inbox/07<span class=se>\ </span>-<span class=se>\ </span>BLOG
</span></span></code></pre></div><p>With these symlinks, any changes I make in Obsidian are automatically reflected in my Hugo content folder.</p><p>I also set up a <code>templater</code> to handle all different parameters with individual posts:</p><p><img loading=lazy onclick='showLightbox("../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-14.png")' src=../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-14.png style=cursor:pointer width=500></p><hr><h2 id=part-2-infrastructure-setup>Part 2: Infrastructure Setup<a hidden class=anchor aria-hidden=true href=#part-2-infrastructure-setup>#</a></h2><h3 id=creating-a-digitalocean-droplet>Creating a DigitalOcean Droplet<a hidden class=anchor aria-hidden=true href=#creating-a-digitalocean-droplet>#</a></h3><p>To host the site, I set up a DigitalOcean droplet. I was already kinda grandfathered in from having my OG-bsky atproto serving from there. I had to SSH into it to set up the necessary directories:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># SSH into your new droplet</span>
</span></span><span class=line><span class=cl>ssh -i ~/.ssh/btuckerc-do_nok root@DROPLET_IP
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Create a directory for your blog</span>
</span></span><span class=line><span class=cl>mkdir -p /opt/blog
</span></span></code></pre></div><p><img loading=lazy onclick='showLightbox("../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-5.png")' src=../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-5.png style=cursor:pointer></p><h3 id=setting-up-github-actions>Setting Up GitHub Actions<a hidden class=anchor aria-hidden=true href=#setting-up-github-actions>#</a></h3><p>To automate building and deploying, I rely on GitHub Actions. In your repository, create a <code>.github/workflows</code> directory with two workflow files.</p><ol><li><p><strong><code>build.yml</code></strong> for building the site:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build and Update Public Branch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>permissions</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>contents</span><span class=p>:</span><span class=w> </span><span class=l>write</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>build-and-update-public</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUGO_BASEURL</span><span class=p>:</span><span class=w> </span><span class=l>https://btuckerc.com</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUGO_ENV</span><span class=p>:</span><span class=w> </span><span class=l>production</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>HUGO_ENABLEGITINFO</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v4</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># ... (more steps in the actual file)</span><span class=w>
</span></span></span></code></pre></div></li><li><p><strong><code>deploy.yml</code></strong> for deploying to DigitalOcean:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy to DigitalOcean</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>workflow_run</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>workflows</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;Build and Update Public Branch&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>types</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>completed</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c># ... (more configuration in the actual file)</span><span class=w>
</span></span></span></code></pre></div></li></ol><p><img loading=lazy onclick='showLightbox("../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-6.png")' src=../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-6.png style=cursor:pointer></p><hr><h2 id=part-3-bluesky-pds-integration>Part 3: Bluesky PDS Integration<a hidden class=anchor aria-hidden=true href=#part-3-bluesky-pds-integration>#</a></h2><h3 id=setting-up-the-pds-server>Setting Up the PDS Server<a hidden class=anchor aria-hidden=true href=#setting-up-the-pds-server>#</a></h3><p>I also run my own Bluesky Personal Data Server (PDS). Below is an excerpt from my <code>docker-compose.yml</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>services</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pds</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>ghcr.io/bluesky-social/pds:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=l>unless-stopped</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>depends_on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>nginx</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>PDS_HOSTNAME=${PDS_HOSTNAME}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>PDS_JWT_SECRET=${PDS_JWT_SECRET}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># ... more environment variables</span><span class=w>
</span></span></span></code></pre></div><p><img loading=lazy onclick='showLightbox("../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-7.png")' src=../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-7.png style=cursor:pointer width=300></p><h3 id=nginx-configuration>Nginx Configuration<a hidden class=anchor aria-hidden=true href=#nginx-configuration>#</a></h3><p>To serve both the static blog and the PDS endpoints on the same droplet, I configured Nginx like so:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-nginx data-lang=nginx><span class=line><span class=cl><span class=k>server</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kn>listen</span> <span class=mi>443</span> <span class=s>ssl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kn>server_name</span> <span class=s>btuckerc.com</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Blog content
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>location</span> <span class=s>/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>root</span> <span class=s>/usr/share/nginx/html</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>index</span> <span class=s>index.html</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kn>try_files</span> <span class=nv>$uri</span> <span class=nv>$uri/</span> <span class=p>=</span><span class=mi>404</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># PDS endpoints
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kn>location</span> <span class=s>/.well-known/</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kn>proxy_pass</span> <span class=s>http://pds:3000/.well-known/</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=c1># ... more proxy settings
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><hr><h2 id=part-4-the-final-touches>Part 4: The Final Touches<a hidden class=anchor aria-hidden=true href=#part-4-the-final-touches>#</a></h2><h3 id=environment-secrets>Environment Secrets<a hidden class=anchor aria-hidden=true href=#environment-secrets>#</a></h3><p>In your GitHub repository, set up these secrets to ensure secure deployments and PDS functionality:</p><ul><li><code>DROPLET_IP</code></li><li><code>DROPLET_USER</code></li><li><code>SSH_PRIVATE_KEY</code></li><li><code>PDS_HOSTNAME</code></li><li><code>PDS_JWT_SECRET</code></li><li><code>PDS_ADMIN_PASSWORD</code></li><li><code>PDS_PLC_ROTATION_KEY_K256_PRIVATE_KEY_HEX</code></li></ul><p><img loading=lazy onclick='showLightbox("../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-8.png")' src=../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-8.png style=cursor:pointer></p><h3 id=automatic-image-processing>Automatic Image Processing<a hidden class=anchor aria-hidden=true href=#automatic-image-processing>#</a></h3><p>For Obsidian-style image links, I wrote a simple script (<code>migrate_attachments.sh</code>) to convert them into standard Markdown references and ensure the files end up in the right locations:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1># This script converts Obsidian-style image links to standard markdown</span>
</span></span><span class=line><span class=cl><span class=c1># and ensures images are in the correct locations</span>
</span></span><span class=line><span class=cl><span class=c1># ... (script contents in the repo)</span>
</span></span></code></pre></div><hr><h2 id=part-5-customizing-layouts>Part 5: Customizing Layouts<a hidden class=anchor aria-hidden=true href=#part-5-customizing-layouts>#</a></h2><h3 id=overwriting-theme-files>Overwriting Theme Files<a hidden class=anchor aria-hidden=true href=#overwriting-theme-files>#</a></h3><p>One of the key aspects of personalizing my blog was implementing custom layouts to overwrite the default files from the theme. This allowed me to tailor the appearance and functionality to better suit my needs. By creating custom layout files in the <code>layouts</code> directory, I was able to override the theme&rsquo;s default templates and have my own little touches on format and styling.</p><p><img loading=lazy onclick='showLightbox("../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-9.png")' src=../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-9.png style=cursor:pointer width=250></p><hr><h2 id=part-6-search-functionality>Part 6: Search Functionality<a hidden class=anchor aria-hidden=true href=#part-6-search-functionality>#</a></h2><h3 id=re-implementing-search>Re-Implementing Search<a hidden class=anchor aria-hidden=true href=#re-implementing-search>#</a></h3><p>I had fun re-implementing the search functionality in the <code>assets</code> directory. This involved customizing the JavaScript and CSS to enhance the search experience on my blog. I wanted users to be able to query for a word and have the results highlighted, with a few rows of content displayed before and after each result. This made it easier for users to find relevant information quickly and efficiently.</p><p><img loading=lazy onclick='showLightbox("../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-10.png")' src=../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-10.png style=cursor:pointer></p><hr><h2 id=part-13-copyshare-and-pinning-features>Part 13: Copy/Share and Pinning Features<a hidden class=anchor aria-hidden=true href=#part-13-copyshare-and-pinning-features>#</a></h2><h3 id=enhancing-user-interaction>Enhancing User Interaction<a hidden class=anchor aria-hidden=true href=#enhancing-user-interaction>#</a></h3><p>To improve user interaction, I implemented my own copy/share functionality on blog posts. This allows readers to easily share content with others or save it for later reference. Additionally, I added a pinning feature, enabling users to pin their favorite posts for quick access.</p><p><img loading=lazy onclick='showLightbox("../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-11.png")' src=../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-11.png style=cursor:pointer width=100>
<img loading=lazy onclick='showLightbox("../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-12.png")' src=../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-12.png style=cursor:pointer width=102></p><hr><h2 id=part-7-digitalocean-droplet-management>Part 7: DigitalOcean Droplet Management<a hidden class=anchor aria-hidden=true href=#part-7-digitalocean-droplet-management>#</a></h2><h3 id=handling-misconfigurations>Handling Misconfigurations<a hidden class=anchor aria-hidden=true href=#handling-misconfigurations>#</a></h3><p>During the setup, I encountered several misconfigurations that required me to stop and restart the DigitalOcean droplet a lot. Doing it again, it&rsquo;s not the end of the world to destroy the droplets then set them back up. But definitely frustrating.</p><hr><h2 id=part-8-github-secrets-management>Part 8: GitHub Secrets Management<a hidden class=anchor aria-hidden=true href=#part-8-github-secrets-management>#</a></h2><h3 id=learning-from-mistakes>Learning from Mistakes<a hidden class=anchor aria-hidden=true href=#learning-from-mistakes>#</a></h3><p>Managing secrets in GitHub was another challenge. I initially misconfigured some secrets, which led to deployment issues. Thankfully this didn&rsquo;t require destroying and reconfiguring droplets&mldr; but still not fun.</p><hr><h2 id=part-9-integration-with-obsidian>Part 9: Integration with Obsidian<a hidden class=anchor aria-hidden=true href=#part-9-integration-with-obsidian>#</a></h2><h3 id=seamless-content-management>Seamless Content Management<a hidden class=anchor aria-hidden=true href=#seamless-content-management>#</a></h3><p>My goal was to have a blog integrated with Obsidian, where I already take notes. This setup allows me to move content over and publish it with ease. Deciding where to store content—between Obsidian sync and GitHub—was initially challenging, but I eventually settled on using both for optimal workflow.</p><hr><h2 id=part-10-dnscname-configuration>Part 10: DNS/CNAME Configuration<a hidden class=anchor aria-hidden=true href=#part-10-dnscname-configuration>#</a></h2><h3 id=connecting-squarespace-domain>Connecting Squarespace Domain<a hidden class=anchor aria-hidden=true href=#connecting-squarespace-domain>#</a></h3><p>Setting the DNS/CNAME entry in my Squarespace domain to point to the DigitalOcean droplet was a crucial step. This configuration ensures that my domain correctly routes traffic to the blog hosted on the droplet, providing a seamless experience for visitors.</p><p><img loading=lazy onclick='showLightbox("../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-13.png")' src=../Blog-Attachments/2024-12-22-Setting-up-a-Blog-with-Obsidian-and-Hugo-13.png style=cursor:pointer width=500></p><hr><h2 id=part-11-at-protocol-and-bluesky-handle>Part 11: AT Protocol and Bluesky Handle<a hidden class=anchor aria-hidden=true href=#part-11-at-protocol-and-bluesky-handle>#</a></h2><h3 id=integrating-at-protocol>Integrating AT Protocol<a hidden class=anchor aria-hidden=true href=#integrating-at-protocol>#</a></h3><p>I aimed to have the AT Protocol running to register my Bluesky handle while ensuring the frontend was engaging and informative. This integration was crucial for providing a seamless user experience and showcasing the capabilities of the Bluesky PDS.</p><hr><h2 id=part-12-customizing-the-paper-theme>Part 12: Customizing the Paper Theme<a hidden class=anchor aria-hidden=true href=#part-12-customizing-the-paper-theme>#</a></h2><h3 id=why-paper-stood-out>Why Paper Stood Out<a hidden class=anchor aria-hidden=true href=#why-paper-stood-out>#</a></h3><p>The Paper theme initially caught my attention due to its clean and minimalist design. However, I found it necessary to tweak certain aspects to better align with my blog&rsquo;s aesthetic and functional requirements. These customizations allowed me to maintain the theme&rsquo;s simplicity while adding unique touches.</p><hr><h2 id=the-result>The Result<a hidden class=anchor aria-hidden=true href=#the-result>#</a></h2><p>Here’s a summary of what this setup achieves:</p><ul><li><strong>Hugo</strong> for a fast, secure static blog</li><li><strong>Obsidian</strong> for a modern writing experience</li><li><strong>GitHub Actions</strong> to automate builds and deployments</li><li><strong>DigitalOcean</strong> for hosting and SSL</li><li><strong>Bluesky PDS</strong> for decentralized social features</li></ul><hr><h2 id=whats-next>What&rsquo;s Next?<a hidden class=anchor aria-hidden=true href=#whats-next>#</a></h2><p>I plan to extend this setup with:</p><ul><li>A commenting system</li><li>Analytics</li><li>Additional Bluesky integrations</li></ul><p>Keep an eye on future posts for these updates!</p><hr><h2 id=useful-resources>Useful Resources<a hidden class=anchor aria-hidden=true href=#useful-resources>#</a></h2><ul><li><a href=https://gohugo.io/documentation/ target=_blank rel="noopener noreferrer">Hugo Documentation</a></li><li><a href=https://github.com/adityatelange/hugo-PaperMod target=_blank rel="noopener noreferrer">PaperMod Theme</a></li><li><a href=https://github.com/bluesky-social/pds target=_blank rel="noopener noreferrer">Bluesky PDS Documentation</a></li><li><a href=https://www.digitalocean.com/community/tutorials target=_blank rel="noopener noreferrer">DigitalOcean Tutorials</a></li></ul><p>The <a href=https://github.com/btuckerc/Blog target=_blank rel="noopener noreferrer">repository</a>
is public if you want to check it out.</p><hr></div><footer class=post-footer><ul class=post-tags><li><a href=https://btuckerc.com/tags/blog/>Blog</a></li><li><a href=https://btuckerc.com/tags/hugo/>Hugo</a></li><li><a href=https://btuckerc.com/tags/obsidian/>Obsidian</a></li><li><a href=https://btuckerc.com/tags/devops/>Devops</a></li><li><a href=https://btuckerc.com/tags/bluesky/>Bluesky</a></li></ul><div class=share-button-wrapper><button id=share-button class=share-button aria-label="Share this post"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12" y1="2" x2="12" y2="15"/></svg></button></div><script>document.getElementById("share-button").addEventListener("click",async()=>{const e="https://btuckerc.com/blog-posts/2024-12-22-setting-up-a-blog-with-obsidian-and-hugo/",t="Setting up a Blog with Obsidian and Hugo";if(navigator.share)try{await navigator.share({title:t,text:t,url:e})}catch(t){t.name!=="AbortError"&&copyToClipboard(e)}else copyToClipboard(e)});function copyToClipboard(e){const t=document.getElementById("share-button"),n=t.innerHTML;navigator.clipboard?navigator.clipboard.writeText(e).then(()=>{t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"/></svg>&nbsp;Copied!',setTimeout(()=>{t.innerHTML=n},2e3)}).catch(()=>{fallbackCopy(e,t,n)}):fallbackCopy(e,t,n)}function fallbackCopy(e,t,n){const s=document.createElement("textarea");s.value=e,s.style.position="fixed",s.style.opacity="0",document.body.appendChild(s),s.select();try{document.execCommand("copy"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"/></svg>&nbsp;Copied!',setTimeout(()=>{t.innerHTML=n},2e3)}catch(e){console.error("Failed to copy:",e)}document.body.removeChild(s)}</script><nav class=paginav><a class=prev href=https://btuckerc.com/blog-posts/2024-12-22-sharing-my-dev-settings/><span class=title>« Prev</span><br><span>Sharing my dev settings</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://btuckerc.com/>btuckerc blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><div id=lightbox class=lightbox><div class=lightbox-content><div class=image-container onclick=event.stopPropagation()><img id=lightbox-img src>
<button class=lightbox-close onclick=hideLightbox()>
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
</button><a id=lightbox-download class=lightbox-download href download onclick=event.stopPropagation()><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg></a></div></div></div><style>.lightbox{display:none;position:fixed;z-index:999;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.95);cursor:default;backdrop-filter:blur(5px)}.lightbox-content{position:relative;width:90%;height:90%;margin:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center}.image-container{position:relative;display:inline-block;max-width:100%;max-height:100%}.lightbox img{max-width:100%;max-height:90vh;border:2px solid #333;box-shadow:0 0 25px rgba(0,0,0,.8);cursor:default;border-radius:4px;display:block}.lightbox-close{position:absolute;top:15px;right:15px;width:36px;height:36px;background:rgba(0,0,0,.5);border:none;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;z-index:1000;padding:8px;box-sizing:border-box;transform:translate(-20%,0%)}.lightbox-close:hover{background:rgba(0,0,0,.8);transform:translate(-5%,-5%)scale(1.05)}.lightbox-close svg{color:#fff;width:100%;height:100%}.lightbox-download{position:absolute;bottom:15px;right:15px;width:36px;height:36px;background:rgba(0,0,0,.5);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;z-index:1000;padding:8px;box-sizing:border-box;transform:translate(-20%,0%)}.lightbox-download:hover{background:rgba(0,0,0,.8);transform:translate(-5%,5%)scale(1.05)}.lightbox-download svg{color:#fff;width:100%;height:100%}body.dark .lightbox{background-color:rgba(18,18,18,.95)}body.dark .lightbox img{border-color:#444;box-shadow:0 0 25px rgba(0,0,0,.9)}body.dark .lightbox-close,body.dark .lightbox-download{background:rgba(255,255,255,.1)}body.dark .lightbox-close:hover,body.dark .lightbox-download:hover{background:rgba(255,255,255,.2)}</style><script>function showLightbox(e){const t=document.getElementById("lightbox"),s=document.getElementById("lightbox-img"),n=document.getElementById("lightbox-download");s.src=e,n&&(n.href=e,n.download=e.split("/").pop()),t.style.display="block",document.body.style.overflow="hidden",t.onclick=function(e){e.target===t&&hideLightbox()}}function hideLightbox(){const e=document.getElementById("lightbox");e.style.display="none",document.body.style.overflow="auto"}document.addEventListener("keydown",function(e){e.key==="Escape"&&hideLightbox()})</script></body></html>